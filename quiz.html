<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>Hey Curlfriend - Hair Type Quiz</title>
<link href="https://fonts.googleapis.com/css2?family=Pacifico&family=Nunito:wght@400;700&display=swap" rel="stylesheet">
<style>
:root {
  --pink1:#FADADD; --pink2:#FFD1DC; --pink3:#FFC0CB;
  --brown1:#D4A373; --brown2:#A0522D; --brown3:#5C3A21;
  --card:#fffafc; --button-pink:#F9C0D3; --button-hover:#F7A1C0;
}

body {
  margin: 0;
  font-family: 'Nunito', sans-serif;
  color: var(--brown3);
  background: var(--pink1);
}

/* Navbar */
nav {
  display: flex; justify-content: space-between; align-items: center;
  padding: 1rem 2rem;
  background: var(--pink3);
  box-shadow: 0 4px 10px rgba(0,0,0,0.1);
  position: sticky; top: 0; z-index: 10;
}
nav .logo {
  font-family: 'Pacifico', cursive;
  font-size: 1.8rem;
  color: var(--brown3);
}
nav ul {
  display: flex; list-style: none; gap: 1.5rem; margin: 0; padding: 0;
}
nav ul li a {
  text-decoration: none; color: var(--brown3); font-weight: 700;
  transition: 0.3s;
}
nav ul li a:hover { color: var(--brown2); }

/* Quiz layout */
.container { max-width: 900px; margin: 2rem auto; padding: 1rem; }
#progressContainer {
  background: var(--pink2);
  border-radius: 25px; height: 15px;
  margin-bottom: 1.5rem;
  overflow: hidden;
}
#progressBar {
  background: var(--brown2);
  width: 0%; height: 100%;
  transition: width 0.4s ease;
}
.quiz-card, #resultSection {
  background: var(--card);
  border-radius: 25px;
  border: 2px solid var(--pink2);
  padding: 2rem; margin-bottom: 2rem;
  box-shadow: 0 10px 25px rgba(0,0,0,0.1);
  transition: opacity 0.3s ease;
}
.quiz-card h3 { margin-bottom: 1.5rem; text-align: center; }

/* Circle answer buttons */
.options {
  display: flex; flex-direction: column; align-items: center;
  gap: 1rem;
}
.options button {
  background: var(--button-pink);
  border: 3px solid var(--brown1);
  border-radius: 50%;
  width: 120px; height: 120px;
  font-weight: 700;
  color: var(--brown3);
  cursor: pointer;
  transition: 0.3s;
  text-align: center;
  display: flex; align-items: center; justify-content: center;
  line-height: 1.2;
  text-wrap: balance;
}
.options button.selected {
  background: var(--button-hover);
  transform: scale(1.1);
  border-color: var(--brown3);
}
.options button:hover {
  background: var(--button-hover);
  transform: scale(1.05);
}
#nextBtn, #restartBtn {
  background: var(--brown2); color: white;
  padding: 0.8rem 1.5rem; border: none;
  border-radius: 25px; font-weight: 700;
  cursor: pointer; margin-top: 1.5rem;
  transition: 0.3s;
}
#nextBtn:hover, #restartBtn:hover {
  background: var(--brown3); transform: scale(1.05);
}
#resultSection {
  display: none; text-align: center;
  animation: fadeUp 1s ease forwards; opacity: 0;
}
#resultSection h2 {
  font-family: 'Pacifico', cursive;
  font-size: 2rem; margin-bottom: 1rem;
}
#resultSection p { margin-bottom: 1rem; }
#confettiCanvas {
  position: fixed; top: 0; left: 0;
  width: 100%; height: 100%;
  pointer-events: none; z-index: 20;
}
@keyframes fadeUp {
  from { opacity: 0; transform: translateY(50px); }
  to { opacity: 1; transform: translateY(0); }
}
</style>
</head>
<body>

<nav>
  <div class="logo">Hey Curlfriend</div>
  <ul>
    <li><a href="home.html">Home</a></li>
    <li><a href="account.html">Account</a></li>
    <li><a href="quiz.html">Hair Types Quiz</a></li>
    <li><a href="routines.html">Hair Routines</a></li>
    <li><a href="products.html">Hair Products</a></li>
  </ul>
</nav>

<div class="container">
  <div id="progressContainer"><div id="progressBar"></div></div>

  <div id="quizContainer" class="quiz-card">
    <h3 id="questionText"></h3>
    <div class="options" id="optionsContainer"></div>
  </div>

  <div id="resultSection" class="quiz-card">
    <h2>ðŸŽ‰ Congrats! Your Hair Type is <span id="finalHairType"></span> ðŸŽ‰</h2>
    <p id="resultDescription"></p>
    <p id="proneTo"></p>
    <p id="celebs"></p>
    <button onclick="window.location.href='products.html'">Find Products for Me</button>
    <button onclick="window.location.href='routines.html'">Find Routines for Me</button>
    <button id="restartBtn">Retake Quiz</button>
  </div>
</div>

<canvas id="confettiCanvas"></canvas>

<script>
// ---------- Hair Type Info ----------
const hairTypeInfo = {
  "2C": {desc:"Wavy with strong S-shaped patterns, tends to frizz and flatten easily.",
         prone:"Frizz, loss of volume at roots.",
         celebs:"Jourdan Dunn, Lorde"},
  "3A": {desc:"Loose, defined curls with shine and bounce.",
         prone:"Flat roots and oil buildup.",
         celebs:"Zendaya, Kelly Rowland"},
  "3B": {desc:"Springy ringlets that need hydration.",
         prone:"Frizz and dryness.",
         celebs:"Yara Shahidi, Alicia Keys"},
  "3C": {desc:"Tight corkscrew curls full of volume.",
         prone:"Shrinkage and dryness.",
         celebs:"Lupita Nyongâ€™o, Tracee Ellis Ross"},
  "4A": {desc:"Defined, dense coils that retain moisture well when hydrated.",
         prone:"Shrinkage and tangling.",
         celebs:"Solange Knowles, Janelle MonÃ¡e"},
  "4B": {desc:"Z-pattern coils with less definition and high shrinkage.",
         prone:"Dryness and breakage.",
         celebs:"Issa Rae, Viola Davis"},
  "4C": {desc:"Tight, beautiful coils with minimal definition and maximum shrinkage.",
         prone:"Extreme dryness, shrinkage, breakage.",
         celebs:"Lupita Nyongâ€™o, Erykah Badu"}
};

// ---------- Quiz Questions ----------
const quizData = [
  {question:"When you wash your hair, what happens?",
   options:["Falls in chunks","Shrinks slightly","Springs back","Tight coils"],
   values:["3A","3B","3C","4C"]},
  {question:"How does your curl pattern look?",
   options:["Loose waves","Soft curls","Springy curls","Tiny coils"],
   values:["2C","3A","3B","4C"]},
  {question:"How much shrinkage after washing?",
   options:["10%","30%","50%","80%"],
   values:["2C","3A","3C","4C"]},
  {question:"What best describes your hair texture?",
   options:["Fine and soft","Soft and defined","Coarse and coily","Very dense and tight"],
   values:["2C","3A","4A","4C"]},
  {question:"How easily does your hair frizz?",
   options:["Barely","Sometimes","Often","All the time!"],
   values:["2C","3B","3C","4C"]},
  {question:"Your hairâ€™s moisture needs are:",
   options:["Low","Medium","High","Very high"],
   values:["2C","3B","4A","4C"]},
  {question:"Your curls look most similar to:",
   options:["Jourdan Dunn","Zendaya","Yara Shahidi","Viola Davis"],
   values:["2C","3A","3B","4B"]},
  {question:"After detangling, your curls:",
   options:["Stay stretched","Shrink slightly","Shrink halfway","Shrink a lot"],
   values:["2C","3B","3C","4C"]},
  {question:"How thick or dense is your hair?",
   options:["Light","Medium","Thick","Super dense"],
   values:["2C","3B","3C","4C"]},
  {question:"When dry, your hair feels:",
   options:["Silky","Soft","Coarse","Fragile"],
   values:["2C","3A","3C","4C"]}
];

let currentQ=0;
let hairScore={"2C":0,"3A":0,"3B":0,"3C":0,"4A":0,"4B":0,"4C":0};
const questionText=document.getElementById('questionText');
const optionsContainer=document.getElementById('optionsContainer');
const progressBar=document.getElementById('progressBar');

function showQuestion(){
  const q=quizData[currentQ];
  questionText.textContent=q.question;
  optionsContainer.innerHTML='';
  progressBar.style.width=`${(currentQ/quizData.length)*100}%`;

  q.options.forEach((opt,i)=>{
    const btn=document.createElement('button');
    btn.textContent=opt;
    btn.onclick=()=>{
      document.querySelectorAll('.options button').forEach(b=>b.classList.remove('selected'));
      btn.classList.add('selected');
      hairScore[q.values[i]]++;
      setTimeout(()=>{
        if(currentQ<quizData.length-1){
          currentQ++;
          showQuestion();
        } else {
          showResults();
        }
      },400);
    };
    optionsContainer.appendChild(btn);
  });
}

function showResults(){
  const maxType=Object.keys(hairScore).reduce((a,b)=>hairScore[a]>hairScore[b]?a:b);
  const info=hairTypeInfo[maxType];
  document.getElementById('finalHairType').textContent=maxType;
  document.getElementById('resultDescription').textContent=info.desc;
  document.getElementById('proneTo').textContent="Prone to: "+info.prone;
  document.getElementById('celebs').textContent="Celebrities: "+info.celebs;
  document.getElementById('quizContainer').style.display='none';
  document.getElementById('resultSection').style.display='block';
  localStorage.setItem('hairType',maxType);
  launchConfetti();
}

document.getElementById('restartBtn').onclick=()=>{
  hairScore={"2C":0,"3A":0,"3B":0,"3C":0,"4A":0,"4B":0,"4C":0};
  currentQ=0;
  document.getElementById('resultSection').style.display='none';
  document.getElementById('quizContainer').style.display='block';
  showQuestion();
};

// ---------- Confetti ----------
function launchConfetti(){
  const canvas=document.getElementById('confettiCanvas');
  const ctx=canvas.getContext('2d');
  canvas.width=window.innerWidth;
  canvas.height=window.innerHeight;
  const confettis=[];
  const colors=["#F9C0D3","#FFD1DC","#FFC0CB","#D4A373","#A0522D","#5C3A21"];
  for(let i=0;i<120;i++){
    confettis.push({x:Math.random()*canvas.width,y:Math.random()*canvas.height-100,r:Math.random()*6+4,d:Math.random()*40,color:colors[Math.floor(Math.random()*colors.length)],tilt:Math.random()*10-10,tiltAngle:0,tiltAngleIncrement:Math.random()*0.07+0.05});
  }
  function draw(){
    ctx.clearRect(0,0,canvas.width,canvas.height);
    confettis.forEach(c=>{
      ctx.beginPath();
      ctx.lineWidth=c.r/2;
      ctx.strokeStyle=c.color;
      ctx.moveTo(c.x+c.tilt+c.r/4,c.y);
      ctx.lineTo(c.x+c.tilt,c.y+c.tilt+c.r/4);
      ctx.stroke();
      c.tiltAngle+=c.tiltAngleIncrement;
      c.y+=(Math.cos(c.d)+3+c.r/2)/2;
      c.x+=Math.sin(c.d);
      c.tilt=Math.sin(c.tiltAngle)*15;
      if(c.y>canvas.height){c.y=-10;c.x=Math.random()*canvas.width;}
    });
    requestAnimationFrame(draw);
  }
  draw();
}

showQuestion();
</script>
</body>
</html>
