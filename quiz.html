<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>Hey Curlfriend - Hair Type Quiz</title>
<link href="https://fonts.googleapis.com/css2?family=Pacifico&family=Nunito:wght@400;700&display=swap" rel="stylesheet">
<style>
:root {
  --pink1:#FADADD; --pink2:#FFD1DC; --pink3:#FFC0CB;
  --brown1:#D4A373; --brown2:#A0522D; --brown3:#5C3A21;
  --card:#fffafc; --button-pink:#F9C0D3; --button-hover:#F7A1C0;
}

body{
  margin:0;
  font-family:'Nunito',sans-serif;
  color:var(--brown3);
  background:var(--pink1);
}

/* Navbar */
nav{
  display:flex; justify-content:space-between; align-items:center; padding:1rem 2rem;
  background:var(--pink3); box-shadow:0 4px 10px rgba(0,0,0,0.1); position:sticky; top:0; z-index:10;
}
nav .logo{font-family:'Pacifico',cursive; font-size:1.8rem; color:var(--brown3);}
nav ul{display:flex; list-style:none; gap:1.5rem; margin:0; padding:0;}
nav ul li a{text-decoration:none; color:var(--brown3); font-weight:700; transition:0.3s;}
nav ul li a:hover{color:var(--brown2);}

/* Container & Cards */
.container{max-width:900px; margin:2rem auto; padding:1rem;}
#progressContainer{
  background:var(--pink2); border-radius:25px; height:15px; margin-bottom:1rem; overflow:hidden; position:relative;
}
#progressBar{background:var(--brown2); width:0%; height:100%; transition:width 0.4s ease;}
#progressPercent{position:absolute; top:-25px; right:0; font-weight:700; font-size:0.9rem;}

.quiz-card, #resultSection{
  background:var(--card); border-radius:25px; border:2px solid var(--pink2);
  padding:2rem; margin-bottom:2rem; box-shadow:0 10px 25px rgba(0,0,0,0.1); transition:opacity 0.3s ease;
}
.quiz-card h3{margin-bottom:1rem;}
.options{display:flex; flex-direction:column; gap:0.8rem;}
.options button{
  background:var(--button-pink); border:none; border-radius:25px;
  padding:0.7rem; cursor:pointer; font-weight:700; transition:0.3s;
}
.options button:hover{background:var(--button-hover);}
.options button.selected{outline:3px solid var(--brown2); background:var(--pink3);}

#resultSection{display:none; text-align:center; animation:fadeUp 1s ease forwards; opacity:0;}
#resultSection h2{font-family:'Pacifico',cursive; font-size:2rem; margin-bottom:1rem;}
#resultSection p{margin-bottom:1rem;}
.result-btn{background:var(--brown2); color:white; padding:0.8rem 1.5rem; border:none; border-radius:25px; font-weight:700; cursor:pointer; margin:0.5rem; transition:0.3s;}
.result-btn:hover{background:var(--brown3); transform:scale(1.05);}

#confettiCanvas{position:fixed; top:0; left:0; width:100%; height:100%; pointer-events:none; z-index:20;}

@keyframes fadeUp{from{opacity:0;transform:translateY(50px);}to{opacity:1;transform:translateY(0);}}
</style>
</head>
<body>

<nav>
  <div class="logo">Hey Curlfriend</div>
  <ul>
    <li><a href="home.html">Home</a></li>
    <li><a href="account.html">Account</a></li>
    <li><a href="quiz.html">Hair Types Quiz</a></li>
    <li><a href="routines.html">Hair Routines</a></li>
    <li><a href="products.html">Hair Products</a></li>
  </ul>
</nav>

<div class="container">
  <div id="progressContainer">
    <div id="progressBar"></div>
    <span id="progressPercent">0%</span>
  </div>

  <div id="quizContainer" class="quiz-card">
    <h3 id="questionText"></h3>
    <div class="options" id="optionsContainer"></div>
  </div>

  <div id="resultSection" class="quiz-card">
    <h2>ðŸŽ‰ Congrats! Your Hair Type is <span id="finalHairType"></span> ðŸŽ‰</h2>
    <p id="resultDescription"></p>
    <p id="proneTo"></p>
    <p id="celebs"></p>
    <button class="result-btn" onclick="window.location.href='products.html'">Find Products</button>
    <button class="result-btn" onclick="window.location.href='routines.html'">Find Routines</button>
    <button class="result-btn" id="restartBtn">Retake Quiz</button>
  </div>
</div>

<canvas id="confettiCanvas"></canvas>

<script>
const quizData = [
  {question:"When you wash your hair, what happens?", options:["Falls in chunks","Tangles slightly","Shrinks a bit","Slight shrinkage","Springs back","Very tight coils"], values:["4C","4B","4A","3C","3B","3A"]},
  {question:"Curl pattern mostly looks like:", options:["Zig-zag tight coils","Springy coils","Soft coils","Defined curls","Loose curls","Loose waves"], values:["4C","4B","4A","3C","3B","3A"]},
  {question:"Hair texture feels:", options:["Fragile & coarse","Coarse & strong","Coily & soft","Soft & springy","Soft & fine","Silky & fine"], values:["4C","4B","4A","3C","3B","3A"]},
  {question:"Shrinkage after washing:", options:["80-90%","60-70%","50-60%","40-50%","20-30%","10-20%"], values:["4C","4B","4A","3C","3B","3A"]},
  {question:"Hair breakage tendency:", options:["High","Moderate-high","Moderate","Low-moderate","Low","Very low"], values:["4C","4B","4A","3C","3B","3A"]},
  {question:"Daily styling takes:", options:["30+ min","25-30 min","20-25 min","15-20 min","10-15 min","5-10 min"], values:["4C","4B","4A","3C","3B","3A"]},
  {question:"Best protective style:", options:["Twists/Braids","Twist-outs","Braids/Twist-out","Wash & Go","Defined curls","Loose styles"], values:["4C","4B","4A","3C","3B","3A"]},
  {question:"Porosity:", options:["High","High-medium","Medium","Medium-low","Low","Very low"], values:["4C","4B","4A","3C","3B","3A"]},
  {question:"Reaction to humidity:", options:["Frizzes instantly","Frizzes a lot","Frizzes moderately","Slight frizz","Barely frizzes","Minimal frizz"], values:["4C","4B","4A","3C","3B","3A"]},
  {question:"Daily moisture needs:", options:["Very high","High","Moderate-high","Medium","Medium-low","Low"], values:["4C","4B","4A","3C","3B","3A"]},
  {question:"Hair density:", options:["Very dense","Dense","Medium-high","Medium","Medium-low","Low"], values:["4C","4B","4A","3C","3B","3A"]},
  {question:"Shrinkage wet vs dry:", options:["Extremely high","High","Moderate-high","Medium","Medium-low","Low"], values:["4C","4B","4A","3C","3B","3A"]},
  {question:"Hair prone to:", options:["Breakage & dryness","Dry ends","Split ends","Split ends occasionally","Frizz","Resilient"], values:["4C","4B","4A","3C","3B","3A"]},
  {question:"Curl definition without products:", options:["Minimal","Low Moderate","Moderate","Good","Very good","Excellent"], values:["4C","4B","4A","3C","3B","3A"]},
  {question:"Elasticity:", options:["Low","Low-medium","Medium","Medium-high","High","Very high"], values:["4C","4B","4A","3C","3B","3A"]},
  {question:"Porous ends?", options:["Very porous","Porous","Slightly porous","Medium","Low","Very low"], values:["4C","4B","4A","3C","3B","3A"]},
  {question:"Curl spring back:", options:["Little","Moderate","Good","Very good","Excellent","Excellent+ tips"], values:["4C","4B","4A","3C","3B","3A"]},
  {question:"Frizz management:", options:["Difficult","Low Medium","Medium","High Medium","Easy","Very easy"], values:["4C","4B","4A","3C","3B","3A"]},
  {question:"Celebrity inspiration:", options:["BeyoncÃ©, Viola Davis","Tracee Ellis Ross, Yara Shahidi","Solange, Janelle Monae","Kerry Washington, Lupita Nyong'o","Zendaya, Kelly Rowland","Sarah Hyland, Naomi Osaka"], values:["4C","4B","4A","3C","3B","3A"]},
  {question:"Overall curl type:", options:["Coily tight","Coily springy","Coily soft","Curly tight","Curly loose","Wavy"], values:["4C","4B","4A","3C","3B","3A"]}
];

let currentQ=0;
let hairScore={"2C":0,"3A":0,"3B":0,"3C":0,"4A":0,"4B":0,"4C":0};
const questionText=document.getElementById('questionText');
const optionsContainer=document.getElementById('optionsContainer');
const progressBar=document.getElementById('progressBar');
const progressPercent=document.getElementById('progressPercent');

function showQuestion(){
  const q=quizData[currentQ];
  questionText.textContent=q.question;
  optionsContainer.innerHTML='';
  progressBar.style.width=`${((currentQ)/quizData.length)*100}%`;
  progressPercent.textContent=`${Math.floor((currentQ/quizData.length)*100)}%`;

  q.options.forEach((opt,i)=>{
    const btn=document.createElement('button');
    btn.textContent=opt;
    btn.onclick=()=>{
      hairScore[q.values[i]]++;
      btn.classList.add("selected");
      setTimeout(()=>{
        if(currentQ<quizData.length-1){
          currentQ++;
          showQuestion();
        } else {
          showResults();
        }
      },300);
    };
    optionsContainer.appendChild(btn);
  });
}

function showResults(){
  const maxType=Object.keys(hairScore).reduce((a,b)=>hairScore[a]>hairScore[b]?a:b);
  
  // Save hair type to localStorage
  localStorage.setItem("hairType", maxType);

  document.getElementById('finalHairType').textContent=maxType;

  const descriptions = {
    "4C":"Tightly coiled hair with high shrinkage. Prone to dryness and breakage. Requires consistent moisture. Celebrities: BeyoncÃ©, Viola Davis.",
    "4B":"Z-shaped coils, springy. Moderate shrinkage. Moisture and protective styles recommended. Celebrities: Tracee Ellis Ross, Yara Shahidi.",
    "4A":"Soft coils, defined. Moderate shrinkage. Easy to style with moisture. Celebrities: Solange, Janelle Monae.",
    "3C":"Curly tight, springy. Retains definition with proper routine. Celebrities: Kerry Washington, Lupita Nyong'o.",
    "3B":"Curly loose, bouncy. Hydrate and define curls. Celebrities: Zendaya, Kelly Rowland.",
    "3A":"Loose wavy hair. Easy to manage. Celebrities: Sarah Hyland, Naomi Osaka.",
    "2C":"Wavy thick hair. Defined S-shape. Celebrities: Lorde, Lili Reinhart."
  };

  document.getElementById('resultDescription').textContent=descriptions[maxType].split(".")[0]+".";
  document.getElementById('proneTo').textContent="Hair traits: "+descriptions[maxType].split(".")[1]+".";
  document.getElementById('celebs').textContent="Celebrity inspiration: "+descriptions[maxType].split(".")[2];

  document.getElementById('quizContainer').style.display='none';
  document.getElementById('resultSection').style.display='block';
  progressBar.style.width="100%";
  progressPercent.textContent="100%";
  launchConfetti();
}

document.getElementById('restartBtn').onclick=()=>{
  hairScore={"2C":0,"3A":0,"3B":0,"3C":0,"4A":0,"4B":0,"4C":0};
  currentQ=0;
  document.getElementById('resultSection').style.display='none';
  document.getElementById('quizContainer').style.display='block';
  showQuestion();
};

function launchConfetti() {
  const canvas=document.getElementById('confettiCanvas');
  const ctx=canvas.getContext('2d');
  canvas.width=window.innerWidth;
  canvas.height=window.innerHeight;
  const confettis=[];
  const colors=["#F9C0D3","#FFD1DC","#FFC0CB","#D4A373","#A0522D","#5C3A21"];
  for(let i=0;i<150;i++){
    confettis.push({x:Math.random()*canvas.width,y:Math.random()*canvas.height-100,r:Math.random()*6+4,d:Math.random()*40,color:colors[Math.floor(Math.random()*colors.length)],tilt:Math.random()*10-10,tiltAngle:0,tiltAngleIncrement:Math.random()*0.07+0.05});
  }
  function draw(){
    ctx.clearRect(0,0,canvas.width,canvas.height);
    let alive=false;
    confettis.forEach(c=>{
      if(c.y<canvas.height){
        alive=true;
        ctx.beginPath();
        ctx.lineWidth=c.r/2;
        ctx.strokeStyle=c.color;
        ctx.moveTo(c.x+c.tilt+c.r/4,c.y);
        ctx.lineTo(c.x+c.tilt,c.y+c.tilt+c.r/4);
        ctx.stroke();
        c.tiltAngle+=c.tiltAngleIncrement;
        c.y+=(Math.cos(c.d)+3+c.r/2)/2;
        c.x+=Math.sin(c.d);
        c.tilt=Math.sin(c.tiltAngle)*15;
      }
    });
    if(alive) requestAnimationFrame(draw);
  }
  draw();
}

showQuestion();
</script>

</body>
</html>
